<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Title</title>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />

    <!-- Bootstrap CSS v5.2.1 -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>

  <body>
    <div class="container mt-5 text-center">
      <div class="row">
        <div class="col-4">
          <input type="text" placeholder="Nhập tên" id="ten" />
        </div>
        <div class="col-4">
          <input type="number" placeholder="Thu Nhập Năm" id="Thu__Nhap" />
        </div>
        <div class="col-4">
          <select name="" id="soNguoi" place >
            <option value="1">1 người </option>
            <option value="2">2 người </option>
            <option value="3">3 người </option>
            <option value="4">4 người </option>
            <option value="5">5 người </option>
            <option value="6">6 người </option>
            <option value="7">7 người </option>
            <option value="8">8 người </option>
            <option value="9">9 người </option>
            <option value="10">10 người </option>
          </select>
        </div>
      </div>

      <button class="btn btn-dark mt-4 w-100" id="btn_thunhap">Tinh</button>
      <h1>Tiền thuế là <span id="thunhap"></span></h1>
    </div>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"
      integrity="sha384-I7E8VVD/ismYTF4hNIPjVp/Zjvgyol6VFvRkX/vR+Vc4jQkC+hVqc2pM8ODewa9r"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
      integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+"
      crossorigin="anonymous"
    ></script>
    
<script>
function tinhThuNhap() {
    var thunhapnam = parseFloat(document.getElementById("Thu__Nhap").value);
    var soNguoi = parseFloat(document.getElementById("soNguoi").value);
    var ten = document.getElementById("ten").value;

    if (isNaN(thunhapnam) || isNaN(soNguoi)) {
        alert("Vui lòng nhập số hợp lệ cho thu nhập và số người phụ thuộc.");
        return;
    }

    var thunhapchiuthue = thunhapnam - 4000000 - soNguoi * 1600000;
    var thuethunhapcanhan = 0;

    if (thunhapchiuthue > 0) {
        if (thunhapchiuthue <= 60000000) {
            thuethunhapcanhan = thunhapchiuthue * 0.05;
        } else if (thunhapchiuthue <= 120000000) {
            thuethunhapcanhan = 60000000 * 0.05 + (thunhapchiuthue - 60000000) * 0.1;
        } else if (thunhapchiuthue <= 210000000) {
            thuethunhapcanhan = 60000000 * 0.05 + 60000000 * 0.1 + (thunhapchiuthue - 120000000) * 0.15;
        } else if (thunhapchiuthue <= 384000000) {
            thuethunhapcanhan = 60000000 * 0.05 + 60000000 * 0.1 + 90000000 * 0.15 + (thunhapchiuthue - 210000000) * 0.2;
        } else if (thunhapchiuthue <= 624000000) {
            thuethunhapcanhan = 60000000 * 0.05 + 60000000 * 0.1 + 90000000 * 0.15 + 174000000 * 0.2 + (thunhapchiuthue - 384000000) * 0.25;
        } else if (thunhapchiuthue <= 960000000) {
            thuethunhapcanhan = 60000000 * 0.05 + 60000000 * 0.1 + 90000000 * 0.15 + 174000000 * 0.2 + 240000000 * 0.25 + (thunhapchiuthue - 624000000) * 0.3;
        } else {
            thuethunhapcanhan = 60000000 * 0.05 + 60000000 * 0.1 + 90000000 * 0.15 + 174000000 * 0.2 + 240000000 * 0.25 + 336000000 * 0.3 + (thunhapchiuthue - 960000000) * 0.35;
        }
    }

    document.getElementById("thunhap").innerHTML = thuethunhapcanhan.toLocaleString('vi-VN') + ' VND';
}

var btn_thunhap = document.getElementById("btn_thunhap");
btn_thunhap.addEventListener("click", tinhThuNhap);


</script>
  </body>
</html>
